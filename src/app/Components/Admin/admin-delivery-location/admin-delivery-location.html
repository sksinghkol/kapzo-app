<div class="container mt-4">
  <h3 class="text-center mb-4">🚚 Manage Delivery Locations</h3>

  <table class="table table-bordered table-hover table-striped align-middle shadow-sm">
    <thead class="table-dark text-center">
      <tr>
        <th>Location Name</th>
        <th>Description</th>
        <th>Store Pickup</th>
        <th>Created At</th>
        <th>Actions</th>
      </tr>
    </thead>
    <tbody>
      <tr *ngFor="let loc of locations; let i = index">
        <td>
          <input type="text" [(ngModel)]="loc.location_name" class="form-control" [readonly]="!loc.isEditing"/>
        </td>
        <td>
          <input type="text" [(ngModel)]="loc.description" class="form-control" [readonly]="!loc.isEditing"/>
        </td>
        <td class="text-center">
          <input type="checkbox" [(ngModel)]="loc.is_store_pickup" [disabled]="!loc.isEditing"/>
        </td>
        <td class="text-center">
          {{ loc.created_at || '-' }}
        </td>
        <td class="text-center">
          <ng-container *ngIf="!loc.isEditing; else editMode">
            <button class="btn btn-warning btn-sm me-2" (click)="editRow(loc)">✏️ Edit</button>
            <button class="btn btn-danger btn-sm" (click)="confirmDelete(i)">❌ Delete</button>
          </ng-container>
          <ng-template #editMode>
            <button class="btn btn-success btn-sm me-2" (click)="saveLocation(loc)">💾 Save</button>
            <button class="btn btn-secondary btn-sm" (click)="cancelEdit(loc)">↩️ Cancel</button>
          </ng-template>
        </td>
      </tr>
    </tbody>
  </table>

  <div class="d-flex justify-content-between mt-3">
    <button class="btn btn-primary" (click)="addRow()">➕ Add Location</button>
  </div>
</div>

